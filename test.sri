
import RegEx

import Seri.SMT.SMT

instance FromChar Integer where
    fromChar = __prim_toInteger_Char

abstar :: (FromChar c, Eq c) => RegEx c
abstar = starR (stringR "ab")

istring :: String -> [Integer]
istring = map fromChar

type Element = Integer

freevar :: Integer -> Query [Element]
freevar x = sequence (replicate x free)

main :: IO ()
main = do
    r <- runYices2 (Just "test.dbg") $ do
            var <- freevar 6
            assert (match abstar var)
            query var
    putStrLn $ show r

